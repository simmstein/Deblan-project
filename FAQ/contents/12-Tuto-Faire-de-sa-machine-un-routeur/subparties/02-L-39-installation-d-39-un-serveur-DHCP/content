L'installation d'un serveur DHCP.

La plupart du temps (pour ne pas dire tout le temps), il suffit de
brancher un câble ethernet pour se voir attribuer une adresse IP
indispensable pour surfer sur internet. Pour avoir ce comportement sur
notre future machine-routeur, nous allons installer et configurer un
serveur DHCP.
L'installation
est la partie facile : il suffit de demander à son gestionnaire de
paquet préféré. Sous Debian (et dérivées) par exemple, le paquet à
installer s'appelle dhcp3-server.
Un fois le bon paquet installé, il s'agit de configurer le serveur pour obtenir le comportement désiré :
On arrête le daemon par précaution :
{{{# /etc/init.d/dhcp3-server stop}}}
On trouve le nom de l'interface ethernet correspondant à la carte réseau sur laquelle on a branché le cable :
{{{# ipconfig -a}}}
Ici, on va dire que c'est eth0.
On se donne une adresse IP fixe pour cette interface :
{{{# nano /etc/network/interfaces}}}
Et on ajoute un bloc genre :
{{{auto eth0<br />iface eth0 inet static<br />address 193.169.1.1<br />netmask 255.255.255.0}}}
On édite le fichier de configuration :
{{{# nano /etc/dhcp3/dhcpd.conf}}}
(l'emplacement peut varier suivant la distribution).<br />
            Normalement, il s'agit d'ajouter un bloc du genre :
{{{subnet 193.169.1.0 netmask 255.255.255.0 {<br />	option routers 193.169.1.1 ;<br />	option subnet-mask 255.255.255.0 ;<br />	range 193.169.1.10 193.169.1.20 ;<br />}}}}
Ce
qui signifie qu'on s'autorise à donner des adresses IP entre
193.169.1.10 et 193.169.1.20 et que l'adresse IP du routeur est
193.169.1.1 (l'adresse qu'on s'est donné précédemment).
On redémarre la machine (où on fixe l'IP de la machine et on redémarre le serveur dhcp).
Si
tout ce passe bien, on peut maintenant brancher une machine sur le
câble ethernet et celle-ci se voit attribuer l'adresse IP 193.168.1.10
(la première de la plage). Essayez ! 
En cas de soucis, la lecture de /var/log/syslog peut aider.
